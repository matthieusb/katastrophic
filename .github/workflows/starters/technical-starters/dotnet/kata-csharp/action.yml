name: Dotnet C# NPM CI Workflow

inputs:
  project-folder:
    description: Project folder
    required: true
    default: 'starters/technical-starters/dotnet/kata-csharp'
  dotnet-cli-opts:
    description: Dotnet CLI options
    required: false
    #default: '--no-restore'

runs:
  using: composite
  steps:
    - uses: actions/checkout@v4

    - name: build:dotnet-c#
      shell: sh
      run: dotnet ${{ inputs.dotnet-cli-opts }} build
      working-directory: ${{ inputs.project-folder }}

    - name: test:dotnet-c#
      shell: sh
      run: dotnet ${{ inputs.dotnet-cli-opts }} test
      working-directory: ${{ inputs.project-folder }}